{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["export default function renderCard(cards) {\nconst gallery = document.querySelector('.cards');\n    /*gallery.innerHTML = '';*/\n      cards.forEach(card => {\n        const cardHTML =\n            `<li class=\"card\"> \n                <a class=\"card-link\" href=\"${card.largeImageURL}\">\n                    <img class=\"card-img\" src=\"${card.webformatURL}\" alt=\"${card.tags}\" data-source=\"${card.largeImageURL}\" />\n                </a>\n                <div class=\"card-data\">\n                    <div class=\"data-wrap\">\n                        <p>Likes: </p>\n                        <span>${card.likes}</span>\n                    </div>\n                    <div class=\"data-wrap\">\n                        <p>Views: </p>\n                        <span>${card.views}</span>\n                    </div>\n                    <div class=\"data-wrap\">\n                        <p>Comments: </p>\n                        <span>${card.comments}</span>\n                    </div>\n                    <div class=\"data-wrap\">\n                        <p>Downloads: </p>\n                        <span>${card.downloads}</span>\n                    </div>\n                </div>\n             </li>`;\n          gallery.innerHTML += cardHTML;\n          /*postList.insertAdjacentHTML(\"beforeend\", markup);*/\n          \n    })\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport axios from 'axios';\n\nimport renderCard from './render-functions.js';\n\nconst form = document.querySelector('.form');\nconst loader = document.getElementById('loader');\nconst loadmoreBtn = document.querySelector('.load-more-btn');\n\nlet page = 1;\nlet perPage = 15;\nlet userInput = '';\n\n\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    userInput = event.target.elements.search.value.trim();\n    page = 1;\n\n    if (userInput === \"\") {\n        iziToast.show({\n            title: 'Error',\n            backgroundColor: '#EF4040',\n            messageColor: '#FFFFFF',\n            titleColor: '#FFFFFF',\n            message: 'Please enter a search query!',\n            position: 'bottomRight'\n        });\n        return;\n    }\n\n    showLoader();\n\n    const options = {\n        key: '42328453-99f2c5c34c77a0496905bbef3',\n        q: userInput,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: page,\n        per_page: perPage,\n    }\n\nconst PARAMS = new URLSearchParams(options);\n\n    try {\n        const response = await axios.get(`https://pixabay.com/api/?${PARAMS}`)\n        const data = response.data;\n            \n            if (data.hits.length === 0) {\n                const gallery = document.querySelector('.cards');\n                gallery.innerHTML = '';\n                hideLoader();\n                hideLoadBtn();\n                iziToast.show({\n                    title: 'Error',\n                    backgroundColor: '#EF4040',\n                    messageColor: '#FFFFFF',\n                    titleColor: '#FFFFFF',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'bottomRight'\n                })\n            } else {\n                const gallery = document.querySelector('.cards');\n                gallery.innerHTML = '';\n                renderCard(data.hits);\n                const lightbox = new SimpleLightbox(\".cards a\", { captionsData: \"alt\", captionDelay: 250, captionPosition: 'bottom' });\n                lightbox.refresh();\n                hideLoader();\n                showLoadBtn();\n            }\n        \n        page += 1;\n\n        \n        \n    } catch (error) {\n        console.log(error);   \n    }\n    \n})\n\nloadmoreBtn.addEventListener('click', async (event) => {\n\nconst options = {\n        key: '42328453-99f2c5c34c77a0496905bbef3',\n        q: userInput,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: page,\n        per_page: perPage,\n    }\n\nconst PARAMS = new URLSearchParams(options);\n\n    try {\n        if (page > 1) {\n            const response = await axios.get(`https://pixabay.com/api/?${PARAMS}`)\n            const data = response.data;\n            renderCard(data.hits);\n            const lightbox = new SimpleLightbox(\".cards a\", { captionsData: \"alt\", captionDelay: 250, captionPosition: 'bottom' });\n            lightbox.refresh();\n        }\n    }\n    catch {\n        console.log(error);\n    }\n})\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\nfunction showLoadBtn(params) {\n    loadmoreBtn.style.display = 'flex';   \n}\n\nfunction hideLoadBtn(params) {\n    loadmoreBtn.style.display = 'none';   \n}"],"names":["renderCard","cards","gallery","card","cardHTML","form","loader","loadmoreBtn","page","perPage","userInput","event","iziToast","showLoader","options","PARAMS","data","axios","hideLoader","hideLoadBtn","SimpleLightbox","showLoadBtn","error","params"],"mappings":"owBAAe,SAASA,EAAWC,EAAO,CAC1C,MAAMC,EAAU,SAAS,cAAc,QAAQ,EAEzCD,EAAM,QAAQE,GAAQ,CACpB,MAAMC,EACF;AAAA,6CACiCD,EAAK,aAAa;AAAA,iDACdA,EAAK,YAAY,UAAUA,EAAK,IAAI,kBAAkBA,EAAK,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKzFA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,oBAIpCD,EAAQ,WAAaE,CAG/B,CAAK,CACL,CCnBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAO,EACPC,EAAU,GACVC,EAAY,GAIhBL,EAAK,iBAAiB,SAAU,MAAOM,GAAU,CAK7C,GAJAA,EAAM,eAAc,EACpBD,EAAYC,EAAM,OAAO,SAAS,OAAO,MAAM,OAC/CH,EAAO,EAEHE,IAAc,GAAI,CAClBE,EAAS,KAAK,CACV,MAAO,QACP,gBAAiB,UACjB,aAAc,UACd,WAAY,UACZ,QAAS,+BACT,SAAU,aACtB,CAAS,EACD,MACH,CAEDC,IAEA,MAAMC,EAAU,CACZ,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMF,EACN,SAAUC,CACb,EAECM,EAAS,IAAI,gBAAgBD,CAAO,EAEtC,GAAI,CAEA,MAAME,GADW,MAAMC,EAAM,IAAI,4BAA4BF,CAAM,EAAE,GAC/C,KAElB,GAAIC,EAAK,KAAK,SAAW,EAAG,CACxB,MAAMd,EAAU,SAAS,cAAc,QAAQ,EAC/CA,EAAQ,UAAY,GACpBgB,IACAC,IACAP,EAAS,KAAK,CACV,MAAO,QACP,gBAAiB,UACjB,aAAc,UACd,WAAY,UACZ,QAAS,2EACT,SAAU,aAC9B,CAAiB,CACjB,KAAmB,CACH,MAAMV,EAAU,SAAS,cAAc,QAAQ,EAC/CA,EAAQ,UAAY,GACpBF,EAAWgB,EAAK,IAAI,EACH,IAAII,EAAe,WAAY,CAAE,aAAc,MAAO,aAAc,IAAK,gBAAiB,QAAU,CAAA,EAC5G,QAAO,EAChBF,IACAG,GACH,CAELb,GAAQ,CAIX,OAAQc,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CAEL,CAAC,EAEDf,EAAY,iBAAiB,QAAS,MAAOI,GAAU,CAEvD,MAAMG,EAAU,CACR,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMF,EACN,SAAUC,CACb,EAECM,EAAS,IAAI,gBAAgBD,CAAO,EAEtC,GAAI,CACA,GAAIN,EAAO,EAAG,CAEV,MAAMQ,GADW,MAAMC,EAAM,IAAI,4BAA4BF,CAAM,EAAE,GAC/C,KACtBf,EAAWgB,EAAK,IAAI,EACH,IAAII,EAAe,WAAY,CAAE,aAAc,MAAO,aAAc,IAAK,gBAAiB,QAAU,CAAA,EAC5G,QAAO,CACnB,CACJ,MACK,CACF,QAAQ,IAAI,KAAK,CACpB,CACL,CAAC,EAED,SAASP,GAAa,CAClBP,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASY,GAAa,CAClBZ,EAAO,MAAM,QAAU,MAC3B,CAEA,SAASe,EAAYE,EAAQ,CACzBhB,EAAY,MAAM,QAAU,MAChC,CAEA,SAASY,EAAYI,EAAQ,CACzBhB,EAAY,MAAM,QAAU,MAChC"}